import pytest
from src.rpi_hardware.util.crc import crc8_value


@pytest.mark.parametrize("byte_list,crc_value", [
    ([0], 0),
    ([1], 94),
    ([2], 188),
    ([3], 226),
    ([4], 97),
    ([5], 63),
    ([6], 221),
    ([7], 131),
    ([8], 194),
    ([9], 156),
    ([10], 126),
    ([11], 32),
    ([12], 163),
    ([13], 253),
    ([14], 31),
    ([15], 65),
    ([16], 157),
    ([17], 195),
    ([18], 33),
    ([19], 127),
    ([20], 252),
    ([21], 162),
    ([22], 64),
    ([23], 30),
    ([24], 95),
    ([25], 1),
    ([26], 227),
    ([27], 189),
    ([28], 62),
    ([29], 96),
    ([30], 130),
    ([31], 220),
    ([32], 35),
    ([33], 125),
    ([34], 159),
    ([35], 193),
    ([36], 66),
    ([37], 28),
    ([38], 254),
    ([39], 160),
    ([40], 225),
    ([41], 191),
    ([42], 93),
    ([43], 3),
    ([44], 128),
    ([45], 222),
    ([46], 60),
    ([47], 98),
    ([48], 190),
    ([49], 224),
    ([50], 2),
    ([51], 92),
    ([52], 223),
    ([53], 129),
    ([54], 99),
    ([55], 61),
    ([56], 124),
    ([57], 34),
    ([58], 192),
    ([59], 158),
    ([60], 29),
    ([61], 67),
    ([62], 161),
    ([63], 255),
    ([64], 70),
    ([65], 24),
    ([66], 250),
    ([67], 164),
    ([68], 39),
    ([69], 121),
    ([70], 155),
    ([71], 197),
    ([72], 132),
    ([73], 218),
    ([74], 56),
    ([75], 102),
    ([76], 229),
    ([77], 187),
    ([78], 89),
    ([79], 7),
    ([80], 219),
    ([81], 133),
    ([82], 103),
    ([83], 57),
    ([84], 186),
    ([85], 228),
    ([86], 6),
    ([87], 88),
    ([88], 25),
    ([89], 71),
    ([90], 165),
    ([91], 251),
    ([92], 120),
    ([93], 38),
    ([94], 196),
    ([95], 154),
    ([96], 101),
    ([97], 59),
    ([98], 217),
    ([99], 135),
    ([100], 4),
    ([101], 90),
    ([102], 184),
    ([103], 230),
    ([104], 167),
    ([105], 249),
    ([106], 27),
    ([107], 69),
    ([108], 198),
    ([109], 152),
    ([110], 122),
    ([111], 36),
    ([112], 248),
    ([113], 166),
    ([114], 68),
    ([115], 26),
    ([116], 153),
    ([117], 199),
    ([118], 37),
    ([119], 123),
    ([120], 58),
    ([121], 100),
    ([122], 134),
    ([123], 216),
    ([124], 91),
    ([125], 5),
    ([126], 231),
    ([127], 185),
    ([128], 140),
    ([129], 210),
    ([130], 48),
    ([131], 110),
    ([132], 237),
    ([133], 179),
    ([134], 81),
    ([135], 15),
    ([136], 78),
    ([137], 16),
    ([138], 242),
    ([139], 172),
    ([140], 47),
    ([141], 113),
    ([142], 147),
    ([143], 205),
    ([144], 17),
    ([145], 79),
    ([146], 173),
    ([147], 243),
    ([148], 112),
    ([149], 46),
    ([150], 204),
    ([151], 146),
    ([152], 211),
    ([153], 141),
    ([154], 111),
    ([155], 49),
    ([156], 178),
    ([157], 236),
    ([158], 14),
    ([159], 80),
    ([160], 175),
    ([161], 241),
    ([162], 19),
    ([163], 77),
    ([164], 206),
    ([165], 144),
    ([166], 114),
    ([167], 44),
    ([168], 109),
    ([169], 51),
    ([170], 209),
    ([171], 143),
    ([172], 12),
    ([173], 82),
    ([174], 176),
    ([175], 238),
    ([176], 50),
    ([177], 108),
    ([178], 142),
    ([179], 208),
    ([180], 83),
    ([181], 13),
    ([182], 239),
    ([183], 177),
    ([184], 240),
    ([185], 174),
    ([186], 76),
    ([187], 18),
    ([188], 145),
    ([189], 207),
    ([190], 45),
    ([191], 115),
    ([192], 202),
    ([193], 148),
    ([194], 118),
    ([195], 40),
    ([196], 171),
    ([197], 245),
    ([198], 23),
    ([199], 73),
    ([200], 8),
    ([201], 86),
    ([202], 180),
    ([203], 234),
    ([204], 105),
    ([205], 55),
    ([206], 213),
    ([207], 139),
    ([208], 87),
    ([209], 9),
    ([210], 235),
    ([211], 181),
    ([212], 54),
    ([213], 104),
    ([214], 138),
    ([215], 212),
    ([216], 149),
    ([217], 203),
    ([218], 41),
    ([219], 119),
    ([220], 244),
    ([221], 170),
    ([222], 72),
    ([223], 22),
    ([224], 233),
    ([225], 183),
    ([226], 85),
    ([227], 11),
    ([228], 136),
    ([229], 214),
    ([230], 52),
    ([231], 106),
    ([232], 43),
    ([233], 117),
    ([234], 151),
    ([235], 201),
    ([236], 74),
    ([237], 20),
    ([238], 246),
    ([239], 168),
    ([240], 116),
    ([241], 42),
    ([242], 200),
    ([243], 150),
    ([244], 21),
    ([245], 75),
    ([246], 169),
    ([247], 247),
    ([248], 182),
    ([249], 232),
    ([250], 10),
    ([251], 84),
    ([252], 215),
    ([253], 137),
    ([254], 107),
    ([255], 53),
])
def test_check_crc8_single_bytes(byte_list, crc_value):
    assert crc8_value(byte_list) == crc_value


@pytest.mark.parametrize("byte_list,crc_value", [
    ([0, 255, 145, 98, 23, 45], 17),
    ([212, 54, 197, 23, 76, 18], 127),
    ([255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], 187),
])
def test_check_crc8_byte_lists(byte_list, crc_value):
    assert crc8_value(byte_list) == crc_value
